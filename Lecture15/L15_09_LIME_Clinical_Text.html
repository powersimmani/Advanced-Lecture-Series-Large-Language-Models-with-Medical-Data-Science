<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LIME for Clinical Text</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            width: 960px;
            height: 540px;
            padding: 40px 60px;
            background: white;
        }
        .title {
            font-size: 36px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 30px;
            text-align: center;
        }
        .main-content {
            display: flex;
            gap: 30px;
            height: 380px;
        }
        .diagram-section {
            flex: 1.4;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .info-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .content-card {
            background: #f8f9fa;
            border-left: 4px solid #1E64C8;
            border-radius: 8px;
            padding: 15px;
            transition: all 0.3s;
        }
        .content-card:hover {
            background: #e8f2ff;
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(30, 100, 200, 0.2);
        }
        .card-title {
            font-size: 18px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 8px;
        }
        .card-text {
            font-size: 15px;
            color: #333;
            line-height: 1.4;
        }
        .lime-diagram {
            width: 100%;
            max-width: 560px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">LIME for Clinical Text</div>
        <div class="main-content">
            <div class="diagram-section">
                <svg class="lime-diagram" viewBox="0 0 560 380" xmlns="http://www.w3.org/2000/svg">
                    <!-- Original Clinical Note -->
                    <g id="original-text">
                        <text x="280" y="25" text-anchor="middle" fill="#1E64C8" font-size="14" font-weight="700">Clinical Note Input</text>
                        <rect x="50" y="40" width="460" height="60" fill="#f8f9fa" rx="8" stroke="#1E64C8" stroke-width="2"/>
                        <text x="60" y="60" fill="#333" font-size="11">"Patient presents with <tspan fill="#d32f2f" font-weight="700">severe chest pain</tspan> radiating to left arm.</text>
                        <text x="60" y="76" fill="#333" font-size="11">History of <tspan fill="#f57c00" font-weight="700">hypertension</tspan> and <tspan fill="#f57c00" font-weight="700">diabetes</tspan>. ECG shows</text>
                        <text x="60" y="92" fill="#333" font-size="11"><tspan fill="#d32f2f" font-weight="700">ST elevation</tspan>. Recommend immediate cardiac intervention."</text>
                    </g>
                    
                    <!-- Step 1: Perturbation -->
                    <g id="perturbation">
                        <text x="140" y="125" text-anchor="middle" fill="#1E64C8" font-size="13" font-weight="700">Step 1: Generate Perturbations</text>
                        
                        <!-- Arrow down -->
                        <path d="M 280 105 L 280 135" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrow)"/>
                        <defs>
                            <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                <polygon points="0 0, 10 3, 0 6" fill="#1E64C8"/>
                            </marker>
                        </defs>
                        
                        <!-- Perturbed samples -->
                        <g id="samples">
                            <!-- Sample 1 -->
                            <rect x="30" y="145" width="160" height="45" fill="#ffe8e8" rx="6" stroke="#d32f2f" stroke-width="1.5" stroke-dasharray="3,2"/>
                            <text x="35" y="160" fill="#666" font-size="9">‚úó "severe chest pain"</text>
                            <text x="35" y="172" fill="#666" font-size="9">‚úì "hypertension"</text>
                            <text x="35" y="184" fill="#666" font-size="9">‚úì "ST elevation"</text>
                            
                            <!-- Sample 2 -->
                            <rect x="200" y="145" width="160" height="45" fill="#fff3e0" rx="6" stroke="#f57c00" stroke-width="1.5" stroke-dasharray="3,2"/>
                            <text x="205" y="160" fill="#666" font-size="9">‚úì "severe chest pain"</text>
                            <text x="205" y="172" fill="#666" font-size="9">‚úó "hypertension, diabetes"</text>
                            <text x="205" y="184" fill="#666" font-size="9">‚úì "ST elevation"</text>
                            
                            <!-- Sample 3 -->
                            <rect x="370" y="145" width="160" height="45" fill="#e8f5e9" rx="6" stroke="#43a047" stroke-width="1.5" stroke-dasharray="3,2"/>
                            <text x="375" y="160" fill="#666" font-size="9">‚úì "severe chest pain"</text>
                            <text x="375" y="172" fill="#666" font-size="9">‚úì "hypertension"</text>
                            <text x="375" y="184" fill="#666" font-size="9">‚úó "ST elevation"</text>
                        </g>
                        
                        <text x="280" y="205" text-anchor="middle" fill="#666" font-size="10" font-style="italic">Generate N perturbed samples by randomly removing words</text>
                    </g>
                    
                    <!-- Step 2: Black Box Predictions -->
                    <g id="predictions">
                        <text x="140" y="235" text-anchor="middle" fill="#1E64C8" font-size="13" font-weight="700">Step 2: Get Model Predictions</text>
                        
                        <!-- Black box model -->
                        <rect x="210" y="245" width="140" height="40" fill="#333" rx="8"/>
                        <text x="280" y="269" text-anchor="middle" fill="white" font-size="12" font-weight="600">Black Box Model</text>
                        
                        <!-- Prediction arrows and scores -->
                        <path d="M 110 190 L 210 265" stroke="#999" stroke-width="1.5" opacity="0.5"/>
                        <path d="M 280 190 L 280 245" stroke="#999" stroke-width="1.5" opacity="0.5"/>
                        <path d="M 450 190 L 350 265" stroke="#999" stroke-width="1.5" opacity="0.5"/>
                        
                        <!-- Prediction scores -->
                        <text x="110" y="210" text-anchor="middle" fill="#d32f2f" font-size="10" font-weight="600">P = 0.65</text>
                        <text x="280" y="210" text-anchor="middle" fill="#f57c00" font-size="10" font-weight="600">P = 0.78</text>
                        <text x="450" y="210" text-anchor="middle" fill="#43a047" font-size="10" font-weight="600">P = 0.92</text>
                    </g>
                    
                    <!-- Step 3: Local Linear Model -->
                    <g id="linear-model">
                        <text x="420" y="235" text-anchor="middle" fill="#1E64C8" font-size="13" font-weight="700">Step 3: Fit Linear Model</text>
                        
                        <!-- Linear approximation -->
                        <rect x="50" y="295" width="460" height="75" fill="#e8f2ff" rx="8" stroke="#1E64C8" stroke-width="2"/>
                        <text x="280" y="315" text-anchor="middle" fill="#1E64C8" font-size="12" font-weight="700">Local Linear Approximation</text>
                        
                        <!-- Feature weights -->
                        <rect x="70" y="325" width="120" height="30" fill="#d32f2f" rx="4" opacity="0.8"/>
                        <text x="130" y="344" text-anchor="middle" fill="white" font-size="10" font-weight="600">"chest pain": 0.35</text>
                        
                        <rect x="200" y="325" width="120" height="30" fill="#d32f2f" rx="4" opacity="0.7"/>
                        <text x="260" y="344" text-anchor="middle" fill="white" font-size="10" font-weight="600">"ST elevation": 0.28</text>
                        
                        <rect x="330" y="325" width="100" height="30" fill="#f57c00" rx="4" opacity="0.6"/>
                        <text x="380" y="344" text-anchor="middle" fill="white" font-size="10" font-weight="600">"hypertension": 0.15</text>
                        
                        <rect x="440" y="325" width="60" height="30" fill="#fdd835" rx="4" opacity="0.5"/>
                        <text x="470" y="344" text-anchor="middle" fill="#333" font-size="10" font-weight="600">Other: 0.22</text>
                    </g>
                    
                    <!-- LIME Formula -->
                    <g id="formula">
                        <rect x="380" y="105" width="170" height="30" fill="#f8f9fa" rx="6" stroke="#666" stroke-width="1" stroke-dasharray="2,2"/>
                        <text x="465" y="115" text-anchor="middle" fill="#666" font-size="9" font-family="serif">Œæ = argmin L(f, g, œÄ_x) + Œ©(g)</text>
                        <text x="465" y="128" text-anchor="middle" fill="#666" font-size="8">Local fidelity + Complexity</text>
                    </g>
                </svg>
            </div>
            
            <div class="info-section">
                <div class="content-card">
                    <div class="card-title">üîç Local Approximation</div>
                    <div class="card-text">LIME explains individual predictions by approximating the black box locally</div>
                </div>
                <div class="content-card">
                    <div class="card-title">üîÄ Text Perturbation</div>
                    <div class="card-text">Randomly removes words to create variations of the original text</div>
                </div>
                <div class="content-card">
                    <div class="card-title">üìä Feature Importance</div>
                    <div class="card-text">Linear model weights reveal word importance for the prediction</div>
                </div>
                <div class="content-card">
                    <div class="card-title">üè• Clinical Application</div>
                    <div class="card-text">Identifies key clinical terms driving diagnostic decisions</div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>