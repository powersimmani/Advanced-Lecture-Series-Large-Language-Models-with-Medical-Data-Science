<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lecture 15 Slideshow</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: #1a1a1a;
            overflow: hidden;
        }
        
        .slideshow-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .slide-frame {
            flex: 1;
            width: 100%;
            border: none;
            background: white;
        }
        
        .controls {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
            z-index: 1000;
        }
        
        .nav-buttons {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            background: #1E64C8;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .btn:hover {
            background: #2874d8;
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }
        
        .slide-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .slide-number {
            font-size: 16px;
            font-weight: 600;
        }
        
        .slide-title-display {
            font-size: 14px;
            color: #ccc;
        }
        
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: #1E64C8;
            transition: width 0.3s;
            z-index: 1001;
        }
        
        select {
            background: #333;
            color: white;
            border: 1px solid #555;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
        }
        
        select:focus {
            outline: none;
            border-color: #1E64C8;
        }
    </style>
</head>
<body>
    <div class="slideshow-container">
        <div class="progress-bar" id="progressBar"></div>
        <iframe id="slideFrame" class="slide-frame" src=""></iframe>
        
        <div class="controls">
            <div class="nav-buttons">
                <button class="btn" id="firstBtn" onclick="goToSlide(0)">⏮ First</button>
                <button class="btn" id="prevBtn" onclick="previousSlide()">◀ Previous</button>
                <button class="btn" id="nextBtn" onclick="nextSlide()">Next ▶</button>
                <button class="btn" id="lastBtn" onclick="goToSlide(slides.length - 1)">Last ⏭</button>
            </div>
            
            <div class="slide-info">
                <span class="slide-number" id="slideNumber">1 / 30</span>
                <select id="slideSelect" onchange="goToSlide(this.value)">
                    <!-- Options will be populated by JavaScript -->
                </select>
                <span class="slide-title-display" id="slideTitle"></span>
            </div>
        </div>
    </div>

    <script>
        const slides = [
            { file: "L15_01_Title_Medical_XAI.html", title: "Title: Explainable Medical AI", part: "Intro" },
            { file: "L15_02_Interpretability_Overview.html", title: "Lecture Contents", part: "Intro" },
            { file: "L15_03_Part1_Attention_Analysis.html", title: "Part 1: Attention-Based Interpretability", part: "1/3" },
            { file: "L15_04_Attention_Visualization.html", title: "Attention Visualization", part: "1/3" },
            { file: "L15_05_Layer_wise_Relevance.html", title: "Layer-wise Relevance Propagation", part: "1/3" },
            { file: "L15_06_Gradient_Based_Attribution.html", title: "Gradient-Based Attribution", part: "1/3" },
            { file: "L15_07_Integrated_Gradients.html", title: "Integrated Gradients", part: "1/3" },
            { file: "L15_08_SHAP_Medical_Applications.html", title: "SHAP for Medical Applications", part: "1/3" },
            { file: "L15_09_LIME_Clinical_Text.html", title: "LIME for Clinical Text", part: "1/3" },
            { file: "L15_10_Concept_Activation_Vectors.html", title: "Concept Activation Vectors", part: "1/3" },
            { file: "L15_11_Part2_Clinical_Explanations.html", title: "Part 2: Clinical Explanation Generation", part: "2/3" },
            { file: "L15_12_Natural_Language_Explanations.html", title: "Natural Language Explanations", part: "2/3" },
            { file: "L15_13_Counterfactual_Generation.html", title: "Counterfactual Explanations", part: "2/3" },
            { file: "L15_14_Decision_Path_Visualization.html", title: "Decision Path Visualization", part: "2/3" },
            { file: "L15_15_Uncertainty_Communication.html", title: "Uncertainty Communication", part: "2/3" },
            { file: "L15_16_Evidence_Highlighting.html", title: "Evidence Highlighting", part: "2/3" },
            { file: "L15_17_Contrastive_Explanations.html", title: "Contrastive Explanations", part: "2/3" },
            { file: "L15_18_Part3_Clinical_Requirements.html", title: "Part 3: Clinical User Requirements", part: "3/3" },
            { file: "L15_19_Physician_Interpretability_Needs.html", title: "Physician Interpretability Needs", part: "3/3" },
            { file: "L15_20_Patient_Facing_Explanations.html", title: "Patient-Facing Explanations", part: "3/3" },
            { file: "L15_21_Regulatory_Documentation.html", title: "Regulatory Documentation", part: "3/3" },
            { file: "L15_22_Audit_Trail_Generation.html", title: "Audit Trail Generation", part: "3/3" },
            { file: "L15_23_Trust_Calibration.html", title: "Trust Calibration", part: "3/3" },
            { file: "L15_24_Error_Analysis_Tools.html", title: "Error Analysis Tools", part: "3/3" },
            { file: "L15_25_Debugging_Interfaces.html", title: "Debugging Interfaces", part: "3/3" },
            { file: "L15_26_Performance_vs_Interpretability.html", title: "Performance vs. Interpretability", part: "3/3" },
            { file: "L15_27_Case_Study_ICU_Predictions.html", title: "Case Study: ICU Predictions", part: "Apps" },
            { file: "L15_28_Hands_On_XAI_Tools.html", title: "Hands-On: XAI Tools", part: "Apps" },
            { file: "L15_29_Future_Research.html", title: "Future Research Directions", part: "Apps" },
            { file: "L15_30_Thank_You.html", title: "Thank You", part: "End" }
        ];

        let currentSlide = 0;

        function initializeSlideshow() {
            populateSelect();
            loadSlide(0);
            updateNavigation();
            
            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (e.key === 'ArrowRight' || e.key === ' ') {
                    e.preventDefault();
                    nextSlide();
                } else if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    previousSlide();
                } else if (e.key === 'Home') {
                    e.preventDefault();
                    goToSlide(0);
                } else if (e.key === 'End') {
                    e.preventDefault();
                    goToSlide(slides.length - 1);
                }
            });
        }

        function populateSelect() {
            const select = document.getElementById('slideSelect');
            slides.forEach((slide, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = `${index + 1}. ${slide.title}`;
                select.appendChild(option);
            });
        }

        function loadSlide(index) {
            currentSlide = index;
            const slideFrame = document.getElementById('slideFrame');
            slideFrame.src = slides[index].file;
            
            document.getElementById('slideNumber').textContent = `${index + 1} / ${slides.length}`;
            document.getElementById('slideTitle').textContent = slides[index].title;
            document.getElementById('slideSelect').value = index;
            
            updateProgress();
            updateNavigation();
        }

        function updateProgress() {
            const progress = ((currentSlide + 1) / slides.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function updateNavigation() {
            document.getElementById('prevBtn').disabled = currentSlide === 0;
            document.getElementById('firstBtn').disabled = currentSlide === 0;
            document.getElementById('nextBtn').disabled = currentSlide === slides.length - 1;
            document.getElementById('lastBtn').disabled = currentSlide === slides.length - 1;
        }

        function nextSlide() {
            if (currentSlide < slides.length - 1) {
                loadSlide(currentSlide + 1);
            }
        }

        function previousSlide() {
            if (currentSlide > 0) {
                loadSlide(currentSlide - 1);
            }
        }

        function goToSlide(index) {
            index = parseInt(index);
            if (index >= 0 && index < slides.length) {
                loadSlide(index);
            }
        }

        // Initialize on page load
        window.onload = initializeSlideshow;
    </script>
</body>
</html>
