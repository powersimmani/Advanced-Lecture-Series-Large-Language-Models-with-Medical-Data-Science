<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drug Interaction Reasoning</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        .container {
            width: 960px;
            height: 540px;
            padding: 30px 40px;
            background: white;
        }
        
        .title {
            font-size: 20px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .interaction-network {
            background: #f0f5fc;
            border: 2px solid #1E64C8;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .network-title {
            font-size: 18px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .example-box {
            background: white;
            border: 3px solid #1E64C8;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
        }
        
        .example-title {
            font-size: 18px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .example-content {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .example-line {
            font-size: 15px;
            color: #333;
            line-height: 1.5;
        }
        
        .highlight-box {
            background: #fff4e6;
            border: 2px solid #1E64C8;
            border-radius: 10px;
            padding: 15px 25px;
            text-align: center;
        }
        
        .drug-node {
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .drug-node:hover {
            transform: scale(1.1);
        }
        
        .interaction-line {
            animation: interactionPulse 2s ease-in-out infinite;
        }
        
        @keyframes interactionPulse {
            0%, 100% { stroke-width: 2; opacity: 0.6; }
            50% { stroke-width: 3; opacity: 1; }
        }
        
        .warning-flash {
            animation: warningFlash 1.5s ease-in-out infinite;
        }
        
        @keyframes warningFlash {
            0%, 100% { fill: #dc3545; }
            50% { fill: #ff6b6b; }
        }
        
        .safe-glow {
            animation: safeGlow 2s ease-in-out infinite;
        }
        
        @keyframes safeGlow {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.1); box-shadow: 0 0 10px rgba(40, 167, 69, 0.5); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">Drug Interaction Reasoning with CoT</div>
        
        <!-- SVG Drug Interaction Network -->
        <div class="interaction-network">
            <div class="network-title">Drug Interaction Analysis Process</div>
            <svg width="840" height="250" viewBox="0 0 840 250">
                <!-- Central Drug (Warfarin) -->
                <g class="drug-node">
                    <circle cx="420" cy="125" r="50" fill="#1E64C8" stroke="#1E64C8" stroke-width="3"/>
                    <text x="420" y="120" text-anchor="middle" fill="white" font-size="14" font-weight="700">Warfarin</text>
                    <text x="420" y="138" text-anchor="middle" fill="white" font-size="12">5mg daily</text>
                </g>
                
                <!-- Step 1: Identify Medications -->
                <g>
                    <rect x="10" y="10" width="140" height="40" rx="8" fill="#e3f2fd" stroke="#1E64C8" stroke-width="2"/>
                    <text x="80" y="25" text-anchor="middle" fill="#1E64C8" font-size="12" font-weight="700">Step 1:</text>
                    <text x="80" y="42" text-anchor="middle" fill="#1E64C8" font-size="12">Identify All Drugs</text>
                </g>
                
                <!-- Existing Medications -->
                <g>
                    <!-- Aspirin -->
                    <g class="drug-node">
                        <circle cx="280" cy="60" r="35" fill="#ffc107" stroke="#ffc107" stroke-width="2"/>
                        <text x="280" y="60" text-anchor="middle" fill="white" font-size="13" font-weight="700">Aspirin</text>
                        <text x="280" y="75" text-anchor="middle" fill="white" font-size="11">81mg</text>
                    </g>
                    
                    <!-- Metoprolol -->
                    <g class="drug-node">
                        <circle cx="560" cy="60" r="35" fill="#28a745" stroke="#28a745" stroke-width="2"/>
                        <text x="560" y="60" text-anchor="middle" fill="white" font-size="13" font-weight="700">Metoprolol</text>
                        <text x="560" y="75" text-anchor="middle" fill="white" font-size="11">50mg</text>
                    </g>
                    
                    <!-- Omeprazole -->
                    <g class="drug-node">
                        <circle cx="280" cy="190" r="35" fill="#28a745" stroke="#28a745" stroke-width="2"/>
                        <text x="280" y="190" text-anchor="middle" fill="white" font-size="13" font-weight="700">Omeprazole</text>
                        <text x="280" y="205" text-anchor="middle" fill="white" font-size="11">20mg</text>
                    </g>
                </g>
                
                <!-- New Drug (Azithromycin) -->
                <g class="drug-node">
                    <circle cx="560" cy="190" r="40" fill="#dc3545" stroke="#dc3545" stroke-width="3" class="warning-flash"/>
                    <text x="560" y="185" text-anchor="middle" fill="white" font-size="13" font-weight="700">NEW:</text>
                    <text x="560" y="200" text-anchor="middle" fill="white" font-size="13" font-weight="700">Azithromycin</text>
                    <text x="560" y="215" text-anchor="middle" fill="white" font-size="11">500mg</text>
                </g>
                
                <!-- Interaction Lines -->
                <!-- Warfarin-Aspirin -->
                <line class="interaction-line" x1="315" y1="75" x2="385" y2="105" stroke="#ffc107" stroke-width="2" stroke-dasharray="5,3"/>
                <text x="350" y="85" fill="#ffc107" font-size="10" font-weight="700">⚠ Moderate</text>
                
                <!-- Warfarin-Metoprolol -->
                <line x1="525" y1="75" x2="455" y2="105" stroke="#28a745" stroke-width="2" stroke-dasharray="5,3"/>
                <text x="490" y="85" fill="#28a745" font-size="10" font-weight="700">✓ Safe</text>
                
                <!-- Warfarin-Omeprazole -->
                <line x1="315" y1="175" x2="385" y2="145" stroke="#28a745" stroke-width="2" stroke-dasharray="5,3"/>
                <text x="350" y="165" fill="#28a745" font-size="10" font-weight="700">✓ Safe</text>
                
                <!-- Warfarin-Azithromycin (MAJOR) -->
                <line class="interaction-line" x1="520" y1="175" x2="455" y2="145" stroke="#dc3545" stroke-width="3"/>
                <text x="485" y="165" fill="#dc3545" font-size="11" font-weight="700">⚠ MAJOR</text>
                
                <!-- Step 2: Check Interactions -->
                <g>
                    <rect x="10" y="200" width="140" height="40" rx="8" fill="#fff3cd" stroke="#ffc107" stroke-width="2"/>
                    <text x="80" y="215" text-anchor="middle" fill="#856404" font-size="12" font-weight="700">Step 2:</text>
                    <text x="80" y="232" text-anchor="middle" fill="#856404" font-size="12">Check Interactions</text>
                </g>
                
                <!-- Analysis Box -->
                <g>
                    <rect x="620" y="90" width="210" height="120" rx="10" fill="white" stroke="#1E64C8" stroke-width="2"/>
                    <text x="725" y="110" text-anchor="middle" fill="#1E64C8" font-size="13" font-weight="700">Interaction Analysis</text>
                    
                    <rect x="630" y="120" width="190" height="25" rx="5" fill="#f8d7da" stroke="#dc3545" stroke-width="2"/>
                    <text x="640" y="138" fill="#dc3545" font-size="11" font-weight="700">Azithro + Warfarin:</text>
                    <text x="760" y="138" fill="#dc3545" font-size="11">↑ INR</text>
                    
                    <text x="640" y="160" fill="#333" font-size="10">Mechanism: CYP3A4 inhibition</text>
                    <text x="640" y="175" fill="#333" font-size="10">Risk: ↑ Bleeding (30% increase)</text>
                    
                    <rect x="630" y="185" width="190" height="20" rx="5" fill="#d4edda" stroke="#28a745" stroke-width="1"/>
                    <text x="725" y="199" text-anchor="middle" fill="#28a745" font-size="11" font-weight="700">Action: Use Alternative</text>
                </g>
                
                <!-- Step 3: Decision -->
                <g>
                    <rect x="620" y="10" width="210" height="70" rx="10" fill="#d4edda" stroke="#28a745" stroke-width="3"/>
                    <text x="725" y="30" text-anchor="middle" fill="#28a745" font-size="13" font-weight="700">Step 3: Decision</text>
                    
                    <circle cx="640" cy="50" r="10" fill="#28a745" class="safe-glow"/>
                    <text x="640" y="55" text-anchor="middle" fill="white" font-size="14" font-weight="700">✓</text>
                    <text x="725" y="55" text-anchor="middle" fill="#333" font-size="12">Switch to Amoxicillin</text>
                    <text x="725" y="70" text-anchor="middle" fill="#666" font-size="10">(No interaction with warfarin)</text>
                </g>
                
                <!-- OR Alternative -->
                <g>
                    <text x="725" y="230" text-anchor="middle" fill="#1E64C8" font-size="11" font-weight="700" font-style="italic">OR: ↓ Warfarin dose + monitor INR closely</text>
                </g>
            </svg>
        </div>
        
        <div class="example-box">
            <div class="example-title">CoT Reasoning Steps</div>
            <div class="example-content">
                <div class="example-line"><strong>1. Identify:</strong> List all current medications → Warfarin, Aspirin, Metoprolol, Omeprazole</div>
                <div class="example-line"><strong>2. New drug:</strong> Azithromycin for pneumonia → Check database for interactions</div>
                <div class="example-line"><strong>3. Analysis:</strong> Major interaction found → CYP3A4 inhibition → ↑ warfarin levels → ↑ bleeding risk</div>
                <div class="example-line"><strong>4. Decision:</strong> Use alternative (Amoxicillin) OR adjust warfarin + intensive monitoring</div>
            </div>
        </div>
        
        <div class="highlight-box">
            <strong style="color: #1E64C8;">Safety First:</strong> CoT catches potential harms before they occur
        </div>
    </div>
</body>
</html>